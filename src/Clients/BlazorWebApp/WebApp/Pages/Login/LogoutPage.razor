@page "/logout"

@using System.Web;
@using WebApp.Application.Services.Interfaces

<h3>Logout</h3>

@code {
    [Inject]
    IIdentityService identityService { get; set; }

    [Inject]
    NavigationManager navigationManager { get; set; }

    protected override void OnInitialized()
    {
        identityService.Logout();

        navigationManager.NavigateTo(
            HttpUtility.ParseQueryString(
            new Uri(navigationManager.Uri)
            .Query)
        .Get("returnUrl")
        ?? "/");
    }
}